{"version":3,"sources":["components/Display.js","buttonsArr.js","components/ButtonsPad.js","App.js","index.js","components/Button.js"],"names":["Display","result","calculations","fontSize","toString","length","className","id","style","buttonsArr","value","ButtonsPad","setCalculations","setResult","map","button","Button","App","useState","ReactDOM","render","StrictMode","document","getElementById","calculatorLogic","caseValue","prevState","split","slice","strip","number","parseFloat","toPrecision","eval","includes","handleClick","err","console","log","alert","handleKeyDown","e","nodeList","querySelectorAll","blur","keyCode","key","useEffect","window","addEventListener","removeEventListener","onClick"],"mappings":"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","file":"static/js/main.41b6c4b3.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction Display({ result, calculations }) {\n  // Inline style used to make the font size of result smaller over certain lengths, to make sure the result stays in one line\n  const fontSize =\n    result.toString().length > 18\n      ? { fontSize: \"1.6rem\" }\n      : { fontSize: \"1.8rem\" };\n\n  return (\n    <div className=\"display\">\n      <div>{calculations}</div>\n      <div id=\"display\" style={fontSize}>\n        {result}\n      </div>\n    </div>\n  );\n}\n\nexport default Display;\n","const buttonsArr = [\n  {\n    id: \"clear\",\n    value: \"AC\",\n  },\n  {\n    id: \"divide\",\n    value: \"/\",\n  },\n  {\n    id: \"multiply\",\n    value: \"x\",\n  },\n  {\n    id: \"seven\",\n    value: \"7\",\n  },\n  {\n    id: \"eight\",\n    value: \"8\",\n  },\n  {\n    id: \"nine\",\n    value: \"9\",\n  },\n  {\n    id: \"subtract\",\n    value: \"-\",\n  },\n  {\n    id: \"four\",\n    value: \"4\",\n  },\n  {\n    id: \"five\",\n    value: \"5\",\n  },\n  {\n    id: \"six\",\n    value: \"6\",\n  },\n  {\n    id: \"add\",\n    value: \"+\",\n  },\n  {\n    id: \"one\",\n    value: \"1\",\n  },\n  {\n    id: \"two\",\n    value: \"2\",\n  },\n  {\n    id: \"three\",\n    value: \"3\",\n  },\n  {\n    id: \"equals\",\n    value: \"=\",\n  },\n  {\n    id: \"zero\",\n    value: \"0\",\n  },\n  {\n    id: \"decimal\",\n    value: \".\",\n  },\n];\n\nexport default buttonsArr;\n","import React from \"react\";\n\nimport Button from \"./Button\";\nimport buttonsArr from \"../buttonsArr\";\n\nfunction ButtonsPad({ setCalculations, calculations, result, setResult }) {\n  return (\n    <div className=\"buttonsPad\">\n      {buttonsArr.map((button) => {\n        return (\n          <Button\n            id={button.id}\n            key={button.id}\n            value={button.value}\n            setCalculations={setCalculations}\n            calculations={calculations}\n            result={result}\n            setResult={setResult}\n          />\n        );\n      })}\n    </div>\n  );\n}\n\nexport default ButtonsPad;\n","import \"./styles.scss\";\nimport React, { useState } from \"react\";\n\nimport Display from \"./components/Display\";\nimport ButtonsPad from \"./components/ButtonsPad\";\n\nfunction App() {\n  const [calculations, setCalculations] = useState(\"0\");\n  const [result, setResult] = useState(\"0\");\n\n  return (\n    <div className=\"app\">\n      <div className=\"calculator\">\n        <Display result={result} calculations={calculations} />\n        <ButtonsPad\n          setCalculations={setCalculations}\n          calculations={calculations}\n          result={result}\n          setResult={setResult}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","import React, { useEffect } from \"react\";\n\nfunction Button({\n  id,\n  value,\n  setCalculations,\n  calculations,\n  result,\n  setResult,\n}) {\n  // Refactored from switch statement to if/else so that I can use logical operators (might be a bit slower now) and to shorten the code (no repeating of logic)\n  function calculatorLogic(caseValue) {\n    if (caseValue === \"clear\" || caseValue === \"Backspace\") {\n      setCalculations(\"0\");\n      setResult(\"0\");\n    } else if (caseValue === \"divide\" || caseValue === \"/\") {\n      setCalculations((prevState) => {\n        let length = prevState.length;\n        if (\n          (prevState.split(\"\")[length - 2] === \"-\" &&\n            prevState.split(\"\")[length - 5] === \"/\") ||\n          (prevState.split(\"\")[length - 2] === \"-\" &&\n            prevState.split(\"\")[length - 5] === \"+\") ||\n          (prevState.split(\"\")[length - 2] === \"-\" &&\n            prevState.split(\"\")[length - 5] === \"*\")\n        ) {\n          return prevState.slice(0, length - 6) + \" / \";\n        }\n        if (\n          prevState.split(\"\")[length - 2] === \"/\" ||\n          prevState.split(\"\")[length - 2] === \"*\" ||\n          prevState.split(\"\")[length - 2] === \"-\" ||\n          prevState.split(\"\")[length - 2] === \"+\"\n        ) {\n          return prevState.slice(0, length - 3) + \" / \";\n        }\n        return prevState + \" / \";\n      });\n      setResult(\"/\");\n    } else if (caseValue === \"multiply\" || caseValue === \"*\") {\n      setCalculations((prevState) => {\n        let length = prevState.length;\n        if (\n          (prevState.split(\"\")[length - 2] === \"-\" &&\n            prevState.split(\"\")[length - 5] === \"/\") ||\n          (prevState.split(\"\")[length - 2] === \"-\" &&\n            prevState.split(\"\")[length - 5] === \"+\") ||\n          (prevState.split(\"\")[length - 2] === \"-\" &&\n            prevState.split(\"\")[length - 5] === \"*\")\n        ) {\n          return prevState.slice(0, length - 6) + \" * \";\n        }\n\n        if (\n          prevState.split(\"\")[length - 2] === \"/\" ||\n          prevState.split(\"\")[length - 2] === \"*\" ||\n          prevState.split(\"\")[length - 2] === \"-\" ||\n          prevState.split(\"\")[length - 2] === \"+\"\n        ) {\n          return prevState.slice(0, length - 3) + \" * \";\n        }\n        return prevState + \" * \";\n      });\n      setResult(\"*\");\n    } else if (caseValue === \"subtract\" || caseValue === \"-\") {\n      setCalculations((prevState) => {\n        let length = prevState.length;\n\n        if (\n          (prevState.split(\"\")[length - 2] === \"-\" &&\n            prevState.split(\"\")[length - 5] === \"/\") ||\n          (prevState.split(\"\")[length - 2] === \"-\" &&\n            prevState.split(\"\")[length - 5] === \"+\") ||\n          (prevState.split(\"\")[length - 2] === \"-\" &&\n            prevState.split(\"\")[length - 5] === \"*\")\n        ) {\n          return prevState.slice(0, length - 6) + \" - \";\n        }\n\n        if (prevState.split(\"\")[length - 2] === \"-\") {\n          return prevState.slice(0, length - 3) + \" - \";\n        }\n        return prevState + \" - \";\n      });\n      setResult(\"-\");\n    } else if (caseValue === \"add\" || caseValue === \"+\") {\n      setCalculations((prevState) => {\n        let length = prevState.length;\n\n        if (\n          (prevState.split(\"\")[length - 2] === \"-\" &&\n            prevState.split(\"\")[length - 5] === \"/\") ||\n          (prevState.split(\"\")[length - 2] === \"-\" &&\n            prevState.split(\"\")[length - 5] === \"+\") ||\n          (prevState.split(\"\")[length - 2] === \"-\" &&\n            prevState.split(\"\")[length - 5] === \"*\")\n        ) {\n          return prevState.slice(0, length - 6) + \" + \";\n        }\n\n        if (\n          prevState.split(\"\")[length - 2] === \"/\" ||\n          prevState.split(\"\")[length - 2] === \"*\" ||\n          prevState.split(\"\")[length - 2] === \"-\" ||\n          prevState.split(\"\")[length - 2] === \"+\"\n        ) {\n          return prevState.slice(0, length - 3) + \" + \";\n        }\n        return prevState + \" + \";\n      });\n      setResult(\"+\");\n    } else if (caseValue === \"equals\" || caseValue === \"Enter\") {\n      // Function strip used to fix imprecise calculations in JS https://vyspiansky.github.io/2019/01/20/imprecise-calculations-in-javascript/\n      function strip(number) {\n        return parseFloat(number.toPrecision(16));\n      }\n      setCalculations(strip(eval(calculations)).toString());\n      setResult(strip(eval(calculations)).toString());\n    } else if (caseValue === \"decimal\" || caseValue === \".\") {\n      if (result.includes(\".\")) return;\n      setCalculations((prevState) => prevState + \".\");\n      setResult((prevState) => prevState + value);\n    } else {\n      setResult((prevState) => {\n        // Dont use strict equality with 0 for it to work\n        if (\n          prevState == \"0\" ||\n          prevState === \"/\" ||\n          prevState === \"*\" ||\n          prevState === \"-\" ||\n          prevState === \"+\"\n        ) {\n          return value;\n        }\n        return prevState + value;\n      });\n      setCalculations((prevState) => {\n        if (prevState == \"0\") {\n          return value;\n        }\n        return prevState + value;\n      });\n    }\n  }\n\n  function handleClick() {\n    try {\n      calculatorLogic(id);\n    } catch (err) {\n      console.log(err);\n      // Add material UI alert dialog component instead?\n      alert(\n        \"Don't end or start your calculations with an operator... Make sure the calculations ends or starts with a number.\"\n      );\n    }\n  }\n\n  function handleKeyDown(e) {\n    // Set focus away here to make sure no buttons are still focused from the handleClick function which causes a bug when you try to first use clicking with calculator and then keyboard controls\n    const nodeList = document.querySelectorAll(\"button\");\n    [...nodeList].map((button) => button.blur());\n\n    // https://www.cambiaresearch.com/articles/15/javascript-char-codes-key-codes\n    const keyCodeArr = [\n      8, 13, 49, 50, 51, 52, 53, 54, 55, 56, 57, 96, 97, 98, 99, 100, 101, 102,\n      103, 104, 105, 106, 107, 109, 110, 111, 190,\n    ];\n    if (keyCodeArr.includes(e.keyCode)) {\n      value = e.key === \",\" ? \".\" : e.key;\n      try {\n        calculatorLogic(value);\n      } catch (err) {\n        console.log(err);\n        // Add material UI alert dialog component instead?\n        setCalculations(\"0\");\n        setResult(\"0\");\n        alert(\n          \"Don't end or start your calculations with an operator... Make sure the calculations ends or starts with a number.\"\n        );\n      }\n    }\n  }\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  });\n\n  return (\n    <button id={id} className={id} onClick={handleClick}>\n      {value}\n    </button>\n  );\n}\n\nexport default Button;\n"],"sourceRoot":""}